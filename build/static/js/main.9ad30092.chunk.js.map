{"version":3,"sources":["services/persons.js","components/Persons.js","components/Filter.js","components/Form.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","delete","person","newNumber","put","name","number","Persons","searchFilter","currentList","deletePerson","trim","filter","toLowerCase","includes","map","onClick","Filter","value","onChange","Form","props","onSubmit","submit","nameValue","nameChange","numberValue","numberChage","type","Notification","message","operationSuccess","notificationBarStyle","padding","borderStyle","borderRadius","fontSize","style","background","App","useState","persons","setPersons","newName","setNewName","setNewNumber","setSearchFilter","setMessage","messageState","setMessageState","useEffect","personService","then","response","data","updateEntries","changePerson","window","confirm","setTimeout","catch","event","target","preventDefault","checkExistingPerson","find","undefined","console","log","concat","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9ad30092.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deleteEntry = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst change = (person, newNumber) => {\r\n    return axios.put(`${baseUrl}/${person.id}`, {name: person.name, number: newNumber, id: person.id})\r\n}\r\n\r\nexport default { getAll, create, update, deleteEntry, change }","import React from 'react'\r\n\r\nconst Persons = ({ searchFilter, currentList, deletePerson }) => {\r\n    const entriesToShow = searchFilter.trim() === ''\r\n        ? currentList\r\n        : currentList.filter(person =>\r\n            person.name.toLowerCase().includes(searchFilter.toLowerCase()))\r\n\r\n    return (\r\n        entriesToShow.map(person =>\r\n            <p key={person.name}>{person.name} {person.number} <button name={person.name} id={person.id} key={person.id} onClick={deletePerson}>Delete</button></p>)\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n    return (\r\n        <div>\r\n            Filter: <input\r\n                value={value}\r\n                onChange={onChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Form = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.submit}>\r\n                <div>\r\n                    Name: <input\r\n                        value={props.nameValue}\r\n                        onChange={props.nameChange}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    Number: <input\r\n                        value={props.numberValue}\r\n                        onChange={props.numberChage}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Notification = ({ message, operationSuccess }) => {\r\n    const notificationBarStyle = {\r\n        padding: 10,\r\n        borderStyle: 'solid',\r\n        borderRadius: 4,\r\n        fontSize: 20\r\n    }\r\n\r\n    const successStyle = {\r\n        background: 'lightgreen'\r\n    }\r\n\r\n    const errorStyle = {\r\n        background: 'LightCoral'\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    else if (operationSuccess) {\r\n        let style = {...notificationBarStyle, ...successStyle}\r\n\r\n        return (\r\n            <div style={style}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        let style = {...notificationBarStyle, ...errorStyle}\r\n\r\n        return (\r\n            <div style={style}>\r\n                {message}\r\n            </div>)\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchFilter, setSearchFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [messageState, setMessageState] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const updateEntries = () => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const checkExistingPerson = persons.find(person => person.name === newName)\n\n    if (checkExistingPerson !== undefined) {\n      console.log(checkExistingPerson)\n      changePerson(checkExistingPerson)\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(newPerson)\n        .then(response => {\n          setNewName('')\n          setNewNumber('')\n          setPersons(persons.concat(response.data))\n\n          setMessage(\n            `Person '${newName}' was added to the phonebook.`\n          )\n          setMessageState(true)\n          setTimeout(() => {\n            setMessage(null)\n            setMessageState(null)\n          }, 5000)\n        })\n        .catch(error => {\n          updateEntries()\n          \n          setMessage(\n            error.response.data.error\n          )\n          setMessageState(false)\n          setTimeout(() => {\n            setMessage(null)\n            setMessageState(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const changePerson = (person) => {\n    if (window.confirm(`${person.name} is already added to phonebook. Replace the old number with the new one?`)) {\n      personService\n        .change(person, newNumber)\n        .then(() => {\n          updateEntries()\n          setNewName('')\n          setNewNumber('')\n\n          setMessage(\n            `Person's '${newName}' number was changed to '${newNumber}'.`\n          )\n          setMessageState(true)\n          setTimeout(() => {\n            setMessage(null)\n            setMessageState(null)\n          }, 5000)\n        })\n        .catch(() => {\n          updateEntries()\n          \n          setMessage(\n            `Information of '${newName}' cannot be found in the phonebook.`\n          )\n          setMessageState(false)\n          setTimeout(() => {\n            setMessage(null)\n            setMessageState(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const deletePerson = (event) => {\n    if (window.confirm(`Delete ${event.target.name}?`)) {\n      personService\n        .deleteEntry(event.target.id)\n        .then(() => {\n          updateEntries()\n\n          setMessage(\n            `Person '${event.target.name}' was deleted from the phonebook.`\n          )\n          setMessageState(true)\n          setTimeout(() => {\n            setMessage(null)\n            setMessageState(null)\n          }, 5000)\n        })\n        .catch(() => {\n          updateEntries()\n\n          setMessage(\n            `Information of '${event.target.name}' cannot be found in the phonebook or was already removed.`\n          )\n          setMessageState(false)\n          setTimeout(() => {\n            setMessage(null)\n            setMessageState(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearchFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} operationSuccess={messageState}/>\n\n      <h3>Search</h3>\n      <Filter value={searchFilter} onChange={handleSearchChange} />\n\n      <h3>Add new entry</h3>\n      <Form\n        nameValue={newName} nameChange={handleNameChange}\n        numberValue={newNumber} numberChage={handleNumberChange}\n        submit={addPerson}\n      />\n\n      <h3>Numbers</h3>\n      <Persons searchFilter={searchFilter} currentList={persons} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}